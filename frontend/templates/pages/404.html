{% extends "base.html" %}

{% block title %}–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ - –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –ª–µ—Å–Ω–æ–≥–æ —Ö–æ–∑—è–π—Å—Ç–≤–∞{% endblock %}

{% block meta_description %}–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞ —Å–∞–π—Ç–µ –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ –ª–µ—Å–Ω–æ–≥–æ —Ö–æ–∑—è–π—Å—Ç–≤–∞.{% endblock %}

{% block breadcrumb_items %}
<li class="breadcrumb-item">–û—à–∏–±–∫–∞ 404</li>
{% endblock %}

{% block content %}
<div class="container">
    <div class="error-content">
        <div class="error-visual">
            <div class="error-code">404</div>
            <div class="error-icon">üå≤</div>
        </div>
        
        <div class="error-message">
            <h1>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</h1>
            <p>–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –±—ã–ª–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞</p>
        </div>

        <!-- –ü—Ä–æ—Å—Ç–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
        <div class="error-action">
            <a href="{{ url_for('main.index') }}" class="btn btn-primary btn-lg">
                –ù–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            </a>
        </div>

        <!-- –¢–∞–π–º–µ—Ä —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ -->
        <div class="redirect-info">
            <p>–ß–µ—Ä–µ–∑ <span id="countdown">10</span> —Å–µ–∫—É–Ω–¥ –≤—ã –±—É–¥–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
            <button onclick="cancelRedirect()" class="btn-link">–û—Ç–º–µ–Ω–∏—Ç—å</button>
        </div>
    </div>
</div>

<style>
/* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã 404 */
.error-content {
    text-align: center;
    padding: var(--spacing-xl) 0;
    max-width: 600px;
    margin: 0 auto;
}

.error-visual {
    margin-bottom: var(--spacing-lg);
}

.error-code {
    font-size: 6rem;
    font-weight: 900;
    color: var(--color-gray-200);
    line-height: 1;
    margin-bottom: var(--spacing-md);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.error-icon {
    font-size: 3rem;
    margin-bottom: var(--spacing-md);
    opacity: 0.7;
}

.error-message h1 {
    font-size: var(--font-size-2xl);
    color: var(--color-gray-800);
    margin-bottom: var(--spacing-sm);
    font-weight: 700;
}

.error-message p {
    font-size: var(--font-size-base);
    color: var(--color-gray-600);
    margin-bottom: var(--spacing-lg);
}

.error-action {
    margin-bottom: var(--spacing-lg);
}

.redirect-info {
    padding: var(--spacing-md);
    background: var(--color-gray-50);
    border-radius: var(--border-radius-md);
    margin-top: var(--spacing-lg);
}

.redirect-info p {
    color: var(--color-gray-600);
    font-size: var(--font-size-sm);
    margin-bottom: var(--spacing-sm);
}

#countdown {
    font-weight: bold;
    color: var(--color-primary);
}

.btn-link {
    background: none;
    border: none;
    color: var(--color-primary);
    text-decoration: underline;
    cursor: pointer;
    font-size: var(--font-size-sm);
    padding: 0;
}

.btn-link:hover {
    color: var(--color-primary-dark);
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .error-code {
        font-size: 4rem;
    }
    
    .error-message h1 {
        font-size: var(--font-size-xl);
    }
    
    .error-content {
        padding: var(--spacing-lg) 0;
    }
}

@media (max-width: 480px) {
    .error-code {
        font-size: 3rem;
    }
    
    .error-message h1 {
        font-size: var(--font-size-lg);
    }
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.error-content {
    animation: fadeInUp 0.6s ease-out;
}
</style>

<script>
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
let countdown = 10;
let redirectTimer;
let isRedirectCanceled = false;

function startCountdown() {
    const countdownElement = document.getElementById('countdown');
    
    redirectTimer = setInterval(() => {
        countdown--;
        if (countdownElement) {
            countdownElement.textContent = countdown;
        }
        
        if (countdown <= 0 && !isRedirectCanceled) {
            clearInterval(redirectTimer);
            window.location.href = "{{ url_for('main.index') }}";
        }
    }, 1000);
}

function cancelRedirect() {
    isRedirectCanceled = true;
    clearInterval(redirectTimer);
    
    const redirectElement = document.querySelector('.redirect-info');
    if (redirectElement) {
        redirectElement.innerHTML = '<p style="color: var(--color-gray-600); font-size: var(--font-size-sm); margin: 0;">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ</p>';
    }
}

// –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    startCountdown();
});
</script>
{% endblock %} 